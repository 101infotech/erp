# Company-Specific Content System - Visual Guide

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ERP Admin Panel                          â”‚
â”‚                 (Single Application)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚  Saubhagya   â”‚ â”‚   Brand    â”‚ â”‚  Saubhagya â”‚
    â”‚     Ghar     â”‚ â”‚    Bird    â”‚ â”‚    Group   â”‚
    â”‚ (site_id: 3) â”‚ â”‚(site_id: 2)â”‚ â”‚(site_id: 1)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Content Isolation by Site

### Saubhagya Ghar (Real Estate)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Content Types Available       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Services                     â”‚ â† New
â”‚ âœ… Blogs                        â”‚
â”‚ âœ… Team Members                 â”‚
â”‚ âœ… Booking Forms                â”‚
â”‚ âœ… Contact Forms                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Brand Bird Agency (Marketing)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Content Types Available       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Services                     â”‚ â† New
â”‚ âœ… Case Studies                 â”‚
â”‚ âœ… Team Members                 â”‚
â”‚ âœ… Booking Forms                â”‚
â”‚ âœ… Contact Forms                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Saubhagya Group (Corporate)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Content Types Available       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Schedule Meetings            â”‚ â† New
â”‚ âœ… Companies List               â”‚ â† New
â”‚ âœ… Hirings                      â”‚ â† New
â”‚ âœ… News & Media                 â”‚
â”‚ âœ… Team Members                 â”‚
â”‚ âœ… Contact Forms                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Saubhagya Estimate (Estimation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Content Types Available       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Booking Forms                â”‚
â”‚ âœ… Contact Forms                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Navigation Flow

### Step 1: Select Workspace

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Workspace Switcher          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¡ All Sites                 â”‚
â”‚  âœ“ Saubhagya Group          â”‚ â† Selected
â”‚  â–¡ Brand Bird Agency         â”‚
â”‚  â–¡ Saubhagya Ghar           â”‚
â”‚  â–¡ Saubhagya Estimate       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 2: Sidebar Adapts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navigation Sidebar          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Dashboard               â”‚
â”‚  ğŸŒ Sites                   â”‚
â”‚  ğŸ‘¥ Team Members            â”‚
â”‚                              â”‚
â”‚  ğŸ“ Content Management â–¼    â”‚ â† Expandable
â”‚     â€¢ Schedule Meetings     â”‚ â† Dynamic
â”‚     â€¢ Companies List        â”‚ â† Shows only
â”‚     â€¢ Hirings              â”‚ â† relevant
â”‚     â€¢ News & Media         â”‚ â† content
â”‚                              â”‚
â”‚  ğŸ‘” HRM Module              â”‚
â”‚  ğŸ“¬ Submissions             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   sites    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)    â”‚â”€â”€â”
â”‚ name       â”‚  â”‚
â”‚ slug       â”‚  â”‚ One-to-Many
â”‚ domain     â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚           â”‚          â”‚             â”‚
    â–¼           â–¼           â–¼          â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ services â”‚ â”‚schedule_â”‚ â”‚hirings â”‚ â”‚companies_â”‚ â”‚  blogs â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚meetings â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚list      â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ site_id  â”‚ â”‚site_id  â”‚ â”‚site_id â”‚ â”‚site_id   â”‚ â”‚site_id â”‚
â”‚  (FK)    â”‚ â”‚  (FK)   â”‚ â”‚  (FK)  â”‚ â”‚  (FK)    â”‚ â”‚  (FK)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## UI Screenshots (Conceptual)

### Content Management Dropdown - Closed

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¶ Content Management            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Content Management Dropdown - Open (Saubhagya Group)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ Content Management            â”‚
â”‚   ğŸ“… Schedule Meetings          â”‚
â”‚   ğŸ¢ Companies List             â”‚
â”‚   ğŸ‘¨â€ğŸ’¼ Hirings                    â”‚
â”‚   ğŸ“° News & Media               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Content Management Dropdown - Open (Brand Bird)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ Content Management            â”‚
â”‚   ğŸ’¼ Services                   â”‚
â”‚   ğŸ“Š Case Studies               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Code Flow

### 1. User Selects Workspace

```php
// SetWorkspace Middleware detects URL
// Sets session: session('selected_site_id', $site->id)
```

### 2. Sidebar Renders Dynamically

```php
@php
    $siteSlug = $currentSite->slug ?? 'all';
@endphp

// Shows content based on site
@if(in_array($siteSlug, ['saubhagya-ghar', 'brand-bird-agency']))
    <a href="/{{ $workspace }}/services">Services</a>
@endif
```

### 3. Controller Filters Content

```php
// ServiceController@index
$query = Service::with('site');

if (session('selected_site_id')) {
    $query->where('site_id', session('selected_site_id'));
}

$services = $query->orderBy('order')->get();
```

## API Response Example

### Request

```
GET /api/v1/services?site_slug=saubhagya-ghar
```

### Response

```json
{
    "status": "success",
    "data": [
        {
            "id": 1,
            "site": {
                "id": 3,
                "name": "Saubhagya Ghar",
                "slug": "saubhagya-ghar"
            },
            "title": "Property Consultation",
            "description": "Expert real estate advice",
            "features": ["Site Visit", "Market Analysis", "Documentation"]
        }
    ]
}
```

## Security Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Logs In                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Selects Workspace              â”‚
â”‚  session('selected_site_id')    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  All Queries Filtered by:       â”‚
â”‚  WHERE site_id = ?              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Sees Only Their Content   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
User Action â†’ Workspace Selection â†’ Session Storage
                                          â”‚
                                          â–¼
                                    Sidebar Renders
                                    (Dynamic Menu)
                                          â”‚
                                          â–¼
                                    User Clicks Link
                                    (e.g., Services)
                                          â”‚
                                          â–¼
                                    Controller Receives
                                    (with session data)
                                          â”‚
                                          â–¼
                                    Query Database
                                    (filtered by site_id)
                                          â”‚
                                          â–¼
                                    Return View
                                    (only site's data)
```

## Folder Structure

```
app/
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ Service.php              â† New
â”‚   â”œâ”€â”€ ScheduleMeeting.php      â† New
â”‚   â”œâ”€â”€ Hiring.php               â† New
â”‚   â”œâ”€â”€ CompanyList.php          â† New
â”‚   â””â”€â”€ Site.php                 â† Updated
â”‚
â”œâ”€â”€ Http/Controllers/Admin/
â”‚   â”œâ”€â”€ ServiceController.php           â† New
â”‚   â”œâ”€â”€ ScheduleMeetingController.php   â† New
â”‚   â”œâ”€â”€ HiringController.php            â† New
â”‚   â””â”€â”€ CompanyListController.php       â† New
â”‚
resources/views/admin/
â”œâ”€â”€ layouts/
â”‚   â””â”€â”€ app.blade.php            â† Updated (navigation)
â”‚
â”œâ”€â”€ services/                    â† New
â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”œâ”€â”€ create.blade.php         (pending)
â”‚   â””â”€â”€ edit.blade.php           (pending)
â”‚
â”œâ”€â”€ schedule-meetings/           â† New (pending)
â”œâ”€â”€ hirings/                     â† New (pending)
â””â”€â”€ companies-list/              â† New (pending)
```

---

**Created:** December 10, 2025  
**Status:** Backend Complete âœ… | Frontend Views 10% â³
